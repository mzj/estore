{% extends 'eStoreShopBundle::adminLayout.html.twig' %}

{% block container %}
    

    <form action="{{ path('eStoreShopBundleAdmin_product_update', { 'id': product.id }) }}" method="post" {{ form_enctype(form) }} id="product-edit">
        
        {{ form_errors(form) }}
        <fieldset class="main">
            <legend>Product edit</legend>
            
            <fieldset class="nested"> 
                <legend>Basic data</legend>
                <ol>
                    <li>
                        {{ form_label(form.name) }}
                        {{ form_errors(form.name) }}
                        {{ form_widget(form.name) }}
                    </li>
                    <li>
                        {{ form_label(form.code) }}
                        {{ form_errors(form.code) }}
                        {{ form_widget(form.code) }}
                    </li>
                    <li>
                        {{ form_label(form.quantity) }}
                        {{ form_errors(form.quantity) }}
                        {{ form_widget(form.quantity) }}
                    </li>
                    <li>
                        {{ form_label(form.active) }}
                        {{ form_errors(form.active) }}
                        {{ form_widget(form.active) }}
                    </li>
                    <li>
                        {{ form_label(form.description) }}
                        {{ form_errors(form.description) }}
                        {{ form_widget(form.description) }}
                    </li>                    
                    <li>
                        {{ form_label(form.price) }}
                        {{ form_errors(form.price) }}
                        {{ form_widget(form.price) }}
                    </li>
                </ol>
            </fieldset>

            <fieldset class="nested"> 
                <legend>Additional data</legend>
                <ol>
                    <li>
                        {{ form_label(form.categories) }}
                        {{ form_errors(form.categories) }}
                        {{ form_widget(form.categories) }}
                    </li>
                </ol>
            </fieldset>

            <fieldset class="nested"> 
                <legend>Image</legend>
                {% set imageFullName = product.id ~ '-' ~ product.imageName %}
                {% set imageFullPath  = '/uploads/products/' ~ imageFullName %}

                <ol>
                    <li>
                        <img src="{{ imageFullPath | apply_filter('my_thumb') }}" />
                        {{ form_label(form.file) }}
                        {{ form_errors(form.file) }}
                        {{ form_widget(form.file) }}
                    </li>
                </ol>
            </fieldset>
        
        {{ form_rest(form) }}
        
        <p>
            <input type="submit" value="Edit"/>
        </p> 
    </form>
{% endblock %}